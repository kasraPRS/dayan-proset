<form [formGroup]="formGroup" class="w-100">
  <ng-select
    #selectAsset
    [appendTo]="appendTo"
    [loading]="assetDtoList.length == 0"
    formControlName="asset"
    bindLabel="name"
    [readonly]="disabled"
    [items]="assetDtoList"
    (change)="onAssetChange($event, selectAsset)"
    [clearable]="false"
    [searchable]="false"
    [multiple]="multiple"
    [selectableGroup]="true"
    [searchFn]="searchAsset"
  >
    <ng-template ng-header-tmp>
      <div class="form-group has-feedback">
        <input
          style="width: 100%; line-height: 24px"
          type="text"
          class="form-control"
          id="inputValidation"
          placeholder="{{ 'GENERAL.SEARCH' | translate }}"
          (input)="onAssetSearch($event)"
        />
      </div>
    </ng-template>
    <ng-template ng-option-tmp let-item="item">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ item.name }}</mat-card-title>
            <img
              src="/assets/img/asset.png"
              alt="{{ 'GENERAL.ASSET' | translate }}"
            />
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-content>
          {{ item.code }}
        </mat-card-content>
      </mat-card>
    </ng-template>
    <ng-template ng-footer-tmp>
      <div class="d-flex justify-content-end">
        <button
          *prosetHasPermissions="[permission.ASSET_CREATE]"
          class="btn btn-info btn-sm d-flex"
          (click)="goToNewAsset()"
        >
          <i class="fa-solid fa-plus fs-6"></i>
          <span class="mx-1"></span>
          {{ "SHARE_COMPONENT.CREATE_NEW_ASSET" | translate }}
        </button>
      </div>
    </ng-template>
  </ng-select>
</form>
