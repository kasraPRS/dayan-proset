<div>
  <ng-select
    #personSelect
    [loading]="personDtoList.length == 0"
    [items]="personDtoList"
    bindLabel="name"
    (change)="onPersonChange($event)"
    [clearable]="false"
    [readonly]="disabled"
    [(ngModel)]="person"
    [searchable]="false"
    [multiple]="multiple"
    [searchFn]="searchPerson"
    appendTo="body"
  >
    <ng-template ng-header-tmp>
      <div class="form-group has-feedback">
        <input
          style="width: 100%; line-height: 24px"
          type="text"
          class="form-control"
          id="inputValidation"
          placeholder="{{ 'GENERAL.SEARCH' | translate }}"
          (input)="onPersonSearch($event)"
        />
      </div>
    </ng-template>
    <ng-template ng-option-tmp let-item="item">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ item.name }}</mat-card-title>
            <mat-card-subtitle>
              {{ item.code }}
            </mat-card-subtitle>
            <img
              src="/assets/img/profile.png"
              alt="{{ 'GENERAL.USER_PROFILE' | translate }}"
            />
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-content>
          {{ item.address }}
        </mat-card-content>
      </mat-card>
    </ng-template>
    <ng-template ng-footer-tmp>
      <div class="d-flex justify-content-end">
        <button
          *prosetHasPermissions="[permission.USER_MANAGEMENT_CREATE]"
          class="btn btn-info btn-sm d-flex"
          (click)="onOpenPersonWindow()"
        >
          <i class="fa-solid fa-plus fs-6"></i>
          <span class="mx-1"></span>
          {{ "SHARE_COMPONENT.CREATE_NEW_PERSON" | translate }}
        </button>
      </div>
    </ng-template>
  </ng-select>
</div>
